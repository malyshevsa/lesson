<html>
<head>
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <title>Конвертор валют</title>
<head/>
<body>
<form>
    <label>Выберите исходную валюту:</label>
    <select id="currency">
    </select>
    <br/>
    <br/>
    <label>Введите сумму: </label>
    <input id="cash" value="1">
    <br/>
    <br/>
    <label>Выберите расчетную валюту: </label>
    <select id="estimated">
    </select>
    <br/>
    <br/>
    <label><span id="result"></span></label>
</form>
<script>
    $(function(){
        $.getJSON('http://university.netology.ru/api/currency', function(data) {

            var selectSource = $('#currency');
            var selectEstimated = $('#estimated');

            $.each(data, function(key, value) {
                if (value.NumCode == '978') {
                    selectSource.append('<option value="' + value.Value + '" selected>' + value.Name + '</option>');
                } else if (value.NumCode == '840')
                    selectEstimated.append('<option value="' + value.Value + '" selected>' + value.Name + '</option>');
                else {
                    selectSource.append('<option value="' + value.Value + '">' + value.Name + '</option>');
                    selectEstimated.append('<option value="' + value.Value + '">' + value.Name + '</option>');
                }
            });

            calculate();

        });

        $('#cash, #currency, #estimated').on('keyup mouseup', function() {
            calculate();
            });

        function calculate() {
            var sum = $('#cash').val();
            var selectSource = $('#currency').val();
            var selectEstimated = $('#estimated').val();
            $('#result').text((1 / selectEstimated) / (1 / selectSource) * sum);
        }
    });
</script>
</body>
</html>